{"uid":"b3c3e4db31cff110","name":"Обновление действующего токена","fullName":"tests.api.auth.test_auth_api.TestAuth#test_refresh_token","historyId":"21990df0fb00487c974eec076bac29bb","time":{"start":1757506212308,"stop":1757506212414,"duration":106},"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7ffab7dbd1f0>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='supporters1916@protonmail.com', full_name...), auth=UserAuthData(email='supporters1916@protonmail.com', username='tours_2010', password='L|;7yIcI', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757506211637,"stop":1757506211637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757506211637,"stop":1757506211637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757506211637,"stop":1757506211637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757506211637,"stop":1757506211637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_user_session","time":{"start":1757506211679,"stop":1757506212068,"duration":389},"status":"passed","steps":[{"name":"Выполнение публичной регистрации пользователя","time":{"start":1757506211680,"stop":1757506212068,"duration":388},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1757506211680,"stop":1757506212068,"duration":388},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'auth/register'"},{"name":"json","value":"{'accepted_terms': 'true', 'email': 'supporters1916@protonmail.com', 'full_name': 'Kamala Nielsen', 'password': 'L|;7yIcI', 'type': 'public', 'username': 'tours_2010'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"PublicRegistryRequestModel(accepted_terms='true', email='supporters1916@protonmail.com', full_name='Kamala Nielsen', password='L|;7yIcI', type='public', username='tours_2010')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверка статус код равен 201","time":{"start":1757506212068,"stop":1757506212068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected","value":"201"},{"name":"actual","value":"<HTTPStatus.CREATED: 201>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7ffab7dbd1f0>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='supporters1916@protonmail.com', full_name...), auth=UserAuthData(email='supporters1916@protonmail.com', username='tours_2010', password='L|;7yIcI', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","steps":[{"name":"Обновление токена","time":{"start":1757506212309,"stop":1757506212413,"duration":104},"status":"passed","steps":[{"name":"Получение JSON-ответа после авторизации","time":{"start":1757506212309,"stop":1757506212403,"duration":94},"status":"passed","steps":[{"name":"Выполнение запроса на авторизацию","time":{"start":1757506212309,"stop":1757506212402,"duration":93},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1757506212309,"stop":1757506212402,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth'"},{"name":"json","value":"{'email': 'supporters1916@protonmail.com', 'username': 'tours_2010', 'password': 'L|;7yIcI', 'type': 'normal'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='supporters1916@protonmail.com', username='tours_2010', password='L|;7yIcI', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='supporters1916@protonmail.com', username='tours_2010', password='L|;7yIcI', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнение POST-Запроса","time":{"start":1757506212403,"stop":1757506212413,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth/refresh'"},{"name":"json","value":"{'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3NTkyNjEyLCJqdGkiOiJmNWMzMDUxM2Q0MDE0ZDJkOWNiY2Y3NTdlNzM4YTkwMyIsInVzZXJfaWQiOjZ9.XE46WARi1CYN54kF3DI58D0dZYxOB5IdApXyieJEcQ4'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"user_data","value":"UserAuthData(email='supporters1916@protonmail.com', username='tours_2010', password='L|;7yIcI', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"a070e5c23031bc36","name":"log","source":"a070e5c23031bc36.txt","type":"text/plain","size":401},{"uid":"5003a013b8c41ef5","name":"stderr","source":"5003a013b8c41ef5.txt","type":"text/plain","size":434}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":5,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Auth"},{"name":"epic","value":"Пользователи"},{"name":"tag","value":"users"},{"name":"tag","value":"auth"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api.auth"},{"name":"suite","value":"test_auth_api"},{"name":"subSuite","value":"TestAuth"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"6207-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.auth.test_auth_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":3,"passed":0,"unknown":0,"total":3},"items":[{"uid":"4822b22aa0d5c3f3","reportUrl":"https://zomlik.github.io/project-autotests/13//#testresult/4822b22aa0d5c3f3","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1757235408909,"stop":1757235409020,"duration":111}},{"uid":"7fa6ba2638782975","reportUrl":"https://zomlik.github.io/project-autotests/12//#testresult/7fa6ba2638782975","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1756880450560,"stop":1756880450661,"duration":101}}]},"tags":["auth","api","users"]},"source":"b3c3e4db31cff110.json","parameterValues":[]}