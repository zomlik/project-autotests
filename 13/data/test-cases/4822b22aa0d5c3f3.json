{"uid":"4822b22aa0d5c3f3","name":"Обновление действующего токена","fullName":"tests.api.auth.test_auth_api.TestAuth#test_refresh_token","historyId":"21990df0fb00487c974eec076bac29bb","time":{"start":1757235408909,"stop":1757235409020,"duration":111},"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7f37a047d9a0>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='retirement1877@outlook.com', full_name='D...af'), auth=UserAuthData(email='retirement1877@outlook.com', username='villa_1925', password=']B`J#q3o', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757235408227,"stop":1757235408227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757235408227,"stop":1757235408227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757235408228,"stop":1757235408228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757235408228,"stop":1757235408228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_user_session","time":{"start":1757235408266,"stop":1757235408669,"duration":403},"status":"passed","steps":[{"name":"Выполнение публичной регистрации пользователя","time":{"start":1757235408267,"stop":1757235408668,"duration":401},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1757235408267,"stop":1757235408668,"duration":401},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'auth/register'"},{"name":"json","value":"{'accepted_terms': 'true', 'email': 'retirement1877@outlook.com', 'full_name': 'Dewey Colon', 'password': ']B`J#q3o', 'type': 'public', 'username': 'villa_1925'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"PublicRegistryRequestModel(accepted_terms='true', email='retirement1877@outlook.com', full_name='Dewey Colon', password=']B`J#q3o', type='public', username='villa_1925')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверка статус код равен 201","time":{"start":1757235408669,"stop":1757235408669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected","value":"201"},{"name":"actual","value":"<HTTPStatus.CREATED: 201>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7f37a047d9a0>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='retirement1877@outlook.com', full_name='D...af'), auth=UserAuthData(email='retirement1877@outlook.com', username='villa_1925', password=']B`J#q3o', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","steps":[{"name":"Обновление токена","time":{"start":1757235408910,"stop":1757235409020,"duration":110},"status":"passed","steps":[{"name":"Получение JSON-ответа после авторизации","time":{"start":1757235408910,"stop":1757235409012,"duration":102},"status":"passed","steps":[{"name":"Выполнение запроса на авторизацию","time":{"start":1757235408910,"stop":1757235409012,"duration":102},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1757235408910,"stop":1757235409012,"duration":102},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth'"},{"name":"json","value":"{'email': 'retirement1877@outlook.com', 'username': 'villa_1925', 'password': ']B`J#q3o', 'type': 'normal'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='retirement1877@outlook.com', username='villa_1925', password=']B`J#q3o', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='retirement1877@outlook.com', username='villa_1925', password=']B`J#q3o', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнение POST-Запроса","time":{"start":1757235409012,"stop":1757235409020,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth/refresh'"},{"name":"json","value":"{'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU3MzIxODA5LCJqdGkiOiI4M2Q5ZTUzNDIwZDM0MDFkYmRjMzU4MzgyNDI2ODBjNyIsInVzZXJfaWQiOjZ9.-SA4tK4-0WvQWKt9Goho_CJwULRGNtNi3ifuxLEjohg'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"user_data","value":"UserAuthData(email='retirement1877@outlook.com', username='villa_1925', password=']B`J#q3o', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"31f553640bb4fa73","name":"log","source":"31f553640bb4fa73.txt","type":"text/plain","size":401},{"uid":"286ab7fdcdf82593","name":"stderr","source":"286ab7fdcdf82593.txt","type":"text/plain","size":434}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":5,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Пользователи"},{"name":"feature","value":"Auth"},{"name":"tag","value":"users"},{"name":"tag","value":"auth"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api.auth"},{"name":"suite","value":"test_auth_api"},{"name":"subSuite","value":"TestAuth"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"6127-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.auth.test_auth_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":2,"passed":0,"unknown":0,"total":2},"items":[{"uid":"7fa6ba2638782975","reportUrl":"https://zomlik.github.io/project-autotests/12//#testresult/7fa6ba2638782975","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1756880450560,"stop":1756880450661,"duration":101}}]},"tags":["auth","api","users"]},"source":"4822b22aa0d5c3f3.json","parameterValues":[]}