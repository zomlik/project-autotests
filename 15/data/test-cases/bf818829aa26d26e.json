{"uid":"bf818829aa26d26e","name":"Обновление действующего токена","fullName":"tests.api.auth.test_auth_api.TestAuth#test_refresh_token","historyId":"21990df0fb00487c974eec076bac29bb","time":{"start":1758778625070,"stop":1758778625179,"duration":109},"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7fa7ee285c10>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='hartford2083@example.com', full_name=\"Lon...e8'), auth=UserAuthData(email='hartford2083@example.com', username='release_2039', password='~D<]r\"js', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.smoke\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1758778624376,"stop":1758778624376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1758778624376,"stop":1758778624376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758778624376,"stop":1758778624376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758778624376,"stop":1758778624376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_user_session","time":{"start":1758778624415,"stop":1758778624820,"duration":405},"status":"passed","steps":[{"name":"Выполнение публичной регистрации пользователя","time":{"start":1758778624415,"stop":1758778624820,"duration":405},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1758778624416,"stop":1758778624820,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'auth/register'"},{"name":"json","value":"{'accepted_terms': 'true', 'email': 'hartford2083@example.com', 'full_name': \"Londa O'neil\", 'password': '~D<]r\"js', 'type': 'public', 'username': 'release_2039'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"PublicRegistryRequestModel(accepted_terms='true', email='hartford2083@example.com', full_name=\"Londa O'neil\", password='~D<]r\"js', type='public', username='release_2039')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверка статус код равен 201","time":{"start":1758778624820,"stop":1758778624820,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected","value":"201"},{"name":"actual","value":"<HTTPStatus.CREATED: 201>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","statusTrace":"self = <test_auth_api.TestAuth object at 0x7fa7ee285c10>\nget_user_session = UserFixture(request=PublicRegistryRequestModel(accepted_terms='true', email='hartford2083@example.com', full_name=\"Lon...e8'), auth=UserAuthData(email='hartford2083@example.com', username='release_2039', password='~D<]r\"js', type='normal'))\n\n    @allure.title(\"Обновление действующего токена\")\n    @pytest.mark.smoke\n    @pytest.mark.xfail(reason=\"Ошибка 401: Пользователь не авторизован\")\n    def test_refresh_token(self, get_user_session):\n        response = public_users_client().refresh_token(get_user_session.auth)\n>       schema = RefreshTokenResponseModel.model_validate_json(response.text)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nE       auth_token\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\nE       refresh\nE         Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/missing\n\ntests/api/auth/test_auth_api.py:67: ValidationError","steps":[{"name":"Обновление токена","time":{"start":1758778625071,"stop":1758778625179,"duration":108},"status":"passed","steps":[{"name":"Получение JSON-ответа после авторизации","time":{"start":1758778625071,"stop":1758778625170,"duration":99},"status":"passed","steps":[{"name":"Выполнение запроса на авторизацию","time":{"start":1758778625071,"stop":1758778625170,"duration":99},"status":"passed","steps":[{"name":"Выполнение POST-Запроса","time":{"start":1758778625072,"stop":1758778625170,"duration":98},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth'"},{"name":"json","value":"{'email': 'hartford2083@example.com', 'username': 'release_2039', 'password': '~D<]r\"js', 'type': 'normal'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='hartford2083@example.com', username='release_2039', password='~D<]r\"js', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"payload","value":"UserAuthData(email='hartford2083@example.com', username='release_2039', password='~D<]r\"js', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнение POST-Запроса","time":{"start":1758778625170,"stop":1758778625179,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/auth/refresh'"},{"name":"json","value":"{'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzU4ODY1MDI1LCJqdGkiOiJkNDZmOTgzOTQ4YmU0YjA5OWMyY2Y4YmFkMmUxMGJmMiIsInVzZXJfaWQiOjZ9.csEbKcwjEucu6ChxYZGg5cUxWampH0dy8DUdH9QOP4U'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"user_data","value":"UserAuthData(email='hartford2083@example.com', username='release_2039', password='~D<]r\"js', type='normal')"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e3509b95d9aebb69","name":"log","source":"e3509b95d9aebb69.txt","type":"text/plain","size":401},{"uid":"476be7f37c552408","name":"stderr","source":"476be7f37c552408.txt","type":"text/plain","size":434}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":5,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Auth"},{"name":"tag","value":"smoke"},{"name":"tag","value":"users"},{"name":"tag","value":"auth"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api.auth"},{"name":"suite","value":"test_auth_api"},{"name":"subSuite","value":"TestAuth"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"6163-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.auth.test_auth_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":4,"passed":0,"unknown":0,"total":4},"items":[{"uid":"b3c3e4db31cff110","reportUrl":"https://zomlik.github.io/project-autotests/14//#testresult/b3c3e4db31cff110","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1757506212308,"stop":1757506212414,"duration":106}},{"uid":"4822b22aa0d5c3f3","reportUrl":"https://zomlik.github.io/project-autotests/13//#testresult/4822b22aa0d5c3f3","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1757235408909,"stop":1757235409020,"duration":111}},{"uid":"7fa6ba2638782975","reportUrl":"https://zomlik.github.io/project-autotests/12//#testresult/7fa6ba2638782975","status":"skipped","statusDetails":"XFAIL Ошибка 401: Пользователь не авторизован\n\npydantic_core._pydantic_core.ValidationError: 2 validation errors for RefreshTokenResponseModel\nauth_token\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nrefresh\n  Field required [type=missing, input_value={'detail': 'Token is inva...ode': 'token_not_valid'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing","time":{"start":1756880450560,"stop":1756880450661,"duration":101}}]},"tags":["auth","smoke","api","users"]},"source":"bf818829aa26d26e.json","parameterValues":[]}